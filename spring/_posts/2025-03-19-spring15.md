---
layout: post
title: spring15
sitemap: false
hide_last_modified: true
---
# 스프링 빈

* toc
{:toc .large-only}

# Bean

스프링 컨테이너가 관리하는 객체를 뜻한다. 이 Bean을 이용하여 제어의 역전이나 의존성 주입을 효과적으로 구현 할 수 있다.

# 생성 과정

## 1. 스프링 컨테이너 초기화

애플리케이션이 실행되면 `스프링 컨테이너`가 생성된다. 스프링 컨테이너는 스프링 빈을 생성하고 관리하는 역할을 하는데, 크게 두 가지 유형이 있다.

---

### BeanFactory

`Lazy loading` 방식으로 요청이 들어와야 빈을 생성한다. 초기 로딩 속도가 빠르며 불필요한 빈을 생성하지 않도록 해서 메모리를 절약 할 수 있다.

### ApplicationContext

`Eager loading` 방식으로 애플리케이션 시작 시 빈을 미리 로드하기 때문에 서비스가 항상 일정한 속도로 동작한다. `BeanFactory를 확장`한 인터페이스이므로 BeanFactory의 모든 기능을 사용 할 수 있다.

Bean 관리 외에도 국제화, AOP 등의 추가적인 기능을 제공한다.

---

스프링 애플리케이션에서는 `ApplicationContext`를 기본적으로 사용하며, 내부적으로 `BeanFactory`를 포함하여 동작한다.

## 2. 빈 정의 생성

로딩된 스프링 컨테이너는 `@Configuration`이나 `@Component`가 붙은 클래스, 혹은 xml 설정 등을 분석하여 빈 정의(Bean definition)을 만든다. 빈 정의는 빈 생성 시 필요한 설정 정보를 저장하는 객체로 `빈을 어떻게 만들지` 설명하는 일종의 설계도 역할을 한다. 기본적으로 저장된 BeanDefinition 뿐만 아니라 직접 커스텀해서 사용 할 수도 있다.

## 3. 빈 인스턴스 생성

빈 정의대로 빈을 생성한다. @Bean, @Component, @Service, @Repository, @Controller 등의 어노테이션이 붙은 클래스도 이 때 인스턴스를 생성한다.

## 4. 의존성 주입(DI)

`@Autowired`,`@Inject(자바 표준)`,`생성자`, `setter` 등을 찾아 자동으로 의존성을 주입한다.

[스프링의 의존성 주입 방법](https://xxyoonxx.github.io/spring/2024-10-25-spring12/)

# 특징

- 의존성 주입 지원: 결합도를 낮춰 유지보수성 높임
- 싱글톤 패턴 자동 적용: 별도로 싱글톤 패턴을 구현할 필요 없음
- 객체 재사용성 증가: 컨테이너가 객체를 관리하여 중복 생성 방지

# 적용

- 각종 계층에서 애플리케이션의 모듈을 분리하여 의존성을 효과적으로 관리
- AOP 적용
    
    [AOP](https://xxyoonxx.github.io/java/2025-03-13-java38/)
    
    ```java
    @Aspect
    @Component
    public class LoggingAspect {
        @Before("execution(* com.example.service.*.*(..))")
        public void logBeforeMethod(JoinPoint joinPoint) {
            System.out.println("Executing: " + joinPoint.getSignature());
        }
    }
    ```
    
- 스케줄링 및 배치 작업
    
    ```java
    @Component
    public class ScheduledTask {
        @Scheduled(cron = "0 0 12 * * ?")
        public void executeTask() {
            System.out.println("Daily scheduled task executed.");
        }
    }
    ```